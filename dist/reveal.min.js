var Reveal=Reveal||{};!function(){"use strict";var e,t,i,n,s,o,r,a=$(document),d=$(window),u=Modernizr.prefixed("requestAnimationFrame",window)||function(e){window.setTimeout(e,1e3/60)};Reveal=function(n,s){return this instanceof Reveal?(e=this,t=s,i=n,r=window.innerHeight,e.$items=$(n),e.isActive=!1,e.set(),e):new Reveal(n,s)},o=function(){if(e.isActive){if(s=window.pageYOffset,n==s)return void u(o);n=s,e.$items.each(function(t,i){s+r>i._top&&s<i._top+i._height&&i._isHidden&&e.reveal(i)}),u(o)}},Reveal.prototype.init=function(){var e=this;return e.isActive=!0,o(),d.on("resizeEnd",e.update),e},Reveal.prototype.disable=function(){var e=this;return e.isActive=!1,d.off("resizeEnd",e.update),e},Reveal.prototype.set=function(e,t){var n=this;return e=e||n.$items,t=t||i,e.each(function(e,i){var n=$(this);this._top=Math.round(n.offset().top),this._height=n.outerHeight(),this._isHidden=!0,this._dur=n.data("duration")||1,this._delay=n.data("delay")||0,this._selector=t}),n},Reveal.prototype.update=function(e){var t=this;return r=window.innerHeight,e=e||t.$items,e.each(function(e,t){var i=$(this);this._top=Math.round(i.offset().top),this._height=i.outerHeight()}),t},Reveal.prototype.add=function(e){var t=this;e=e||i;var s=a.find(e);return t.set(s,e),t.$items=t.$items.add(s),n-=1,t.isActive=!0,o(),t},Reveal.prototype.reveal=function(e){var t=this;e._isHidden=!1,TweenLite.to(e,e._dur,{delay:e._delay,className:"+=is-visible",ease:Expo.easeOut,onComplete:function(){$(e).removeClass(e._selector.substring(1)+" is-visible"),t.$items=t.$items.not(e),t.$items.length<=0&&(t.isActive=!1)}})}}();
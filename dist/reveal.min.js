var Reveal=Reveal||{};!function(){"use strict";function e(){i.update(i.$items)}function t(e,t,i){var n;return function(){var s=this,o=arguments,r=function(){n=null,t||i.apply(s,o)},a=t&&!n;clearTimeout(n),n=setTimeout(r,e),a&&i.apply(s,o)}}var i,n,s,o,r,a,u,d,h=$(document),v=$(window),c=Modernizr.prefixed("requestAnimationFrame",window)||function(e){window.setTimeout(e,1e3/60)};Reveal=function(e,t){return this instanceof Reveal?(i=this,n=t,s=e,u=window.innerHeight,i.$items=$(e),i.isActive=!1,v.on("resize",d),i.set(),i):new Reveal(e,t)},a=function(){if(i.isActive){if(r=window.pageYOffset,o==r)return void c(a);o=r,i.$items.each(function(e,t){r+u>t._top&&r<t._top+t._height&&t._isHidden&&i.reveal(t)}),c(a)}},Reveal.prototype.init=function(){var t=this;return t.isActive=t.$items.length?!0:!1,a(),v.on("resizeEnd",e),t},Reveal.prototype.disable=function(){var t=this;return t.isActive=!1,v.off("resizeEnd",e),t},Reveal.prototype.set=function(e,t){var i=this;return e=e||i.$items,t=t||s,e.each(function(e,i){var n=$(this);this._top=Math.round(n.offset().top),this._height=n.outerHeight(),this._isHidden=!0,this._dur=n.data("duration")||1,this._delay=n.data("delay")||0,this._selector=t}),i},Reveal.prototype.update=function(e){var t=this;return u=window.innerHeight,e=e||t.$items,e.each(function(e,t){var i=$(this);this._top=Math.round(i.offset().top),this._height=i.outerHeight()}),o-=1,t},Reveal.prototype.add=function(e){var t=this;e=e||s;var i=h.find(e);return t.set(i,e),t.$items=t.$items.add(i),o-=1,t.isActive=!0,a(),t},Reveal.prototype.reveal=function(e){var t=this;e._isHidden=!1,TweenLite.to(e,e._dur,{delay:e._delay,className:"+=is-visible",ease:Expo.easeOut,onComplete:function(){$(e).removeClass(e._selector.substring(1)+" is-visible"),t.$items=t.$items.not(e),t.$items.length<=0&&t.disable()}})},d=t(200,!1,function(e){$(this).trigger(e.type+"End")})}();